<div class="group-page">
    <div class="group overflow-hidden flex flex-col" *ngIf="group">
        <h2 class="text-2xl mb-4">{{group.title}}</h2>

        <div class="mb-2">
            <app-create-note-form
                (onCreateNote)="createNote($event)">
            </app-create-note-form>
        </div>

        <div class="notes overflow-y-scroll h-full">
            <app-note-item
                *ngFor="let note of activeNotes"
                [note]="note"
                [checked]="(checkedNote$ | async)?.id === note.id"
                (onChecked)="onCompleteNote(note, $event)"
                (click)="checkNote(note)">
            </app-note-item>

            <ng-container *ngIf="completedNotes.length">
                <h3 class="text-lg mb-2">Завершенные</h3>
            </ng-container>

            <app-note-item
                *ngFor="let note of completedNotes"
                [note]="note"
                [checked]="(checkedNote$ | async)?.id === note.id"
                (onChecked)="onCompleteNote(note, $event)"
                (click)="checkNote(note)">
            </app-note-item>
        </div>
    </div>

    <ng-container *ngIf="checkedNote$ | async as note">
        <app-group-page-menu
            [@slideInOut]
            [note]="note"
            [tags]="(tags$ | async) || []"
            (onUpdateNote)="updateNote($event)">
        </app-group-page-menu>
    </ng-container>
</div>
